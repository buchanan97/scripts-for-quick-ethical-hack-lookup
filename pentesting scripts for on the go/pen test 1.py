from socket import *
#Python cyber security exercise & penatration testing
def connection_scan(target_Host, target_Port):
    try:
        connection = socket.socket(AF_INET, SOCK_STREAM)
        connection.connect((target_Host, target_Port))
        print('(+)%d/tcp open'% target_Port)
        connection.close()
    except:
            print('(+)%d/tcp closed'% target_Port)

def portscan(target_Host, target_Port):
    try:
        target_ip = gethostbyname(target_Host)
    except:
            print('[-] Cannot resolve %s '% target_Host)
            return
    try:
        target_name = gethostbyaddr(target_ip)
        print('\n[+] scan result of: $s ' % target_name(0))
    except:
        print('\n[+] scan result of: $s '% target_ip)
        setdefaulttimeout(1)
        for target_port in target_Port:
            print('Scanning port: %d'%target_Port)
            connection_scan(target_Host, int(target_Port))


if __name__ == '__main__':
    connection_scan('google.com',(80, 22))